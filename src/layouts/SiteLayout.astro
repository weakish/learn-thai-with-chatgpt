---
const { title } = Astro.props
---

<html lang="en">
	<head>
		<meta charset="utf-8" />
		<link rel="icon" type="image/svg+xml" href="/favicon.svg" />
		<meta name="viewport" content="width=device-width" />
		<meta name="generator" content={Astro.generator} />
		<title>{title}</title>
	</head>
	<body>
		<main>
			<h1>{title}</h1>
            <slot />
        </main>
	</body>
</html>

<style lang="less">
	// markdown css from https://github.com/mrcoles/markdown-css
    @font-size: 14px;
    @line-height: 20px;
    @color: #333;

	@four-space: 34px;
    @four-space-css3: ~"4ch"; // some browsers support char spacing
	@two-space-css3: ~"2ch"; // less does not support ch very well

	h1, blockquote {
		font-size: @font-size;
        line-height: @line-height;
        font-weight: normal;
        font-style: normal;
        font-family: consolas,monaco,courier,"courier new",monospace;
        color: @color;
	}

	h1, blockquote, p {
		float: none;
        margin: 0;
        padding: 0;

		margin-top: @line-height;
        margin-bottom: @line-height;
	}

	h1 {
        position: relative;
        display: inline-block;

        // table-cell puts on own line and limits width to text
        display: table-cell;

        padding: @line-height 0 @line-height * 2;
        margin: 0;
        overflow: hidden;

        // `h1:after` creates something as the last child of the h1,
        // likewise `:before` creates something as the first child
        &:after {
            // 100 characters wide max
            content: "====================================================================================================";
            position: absolute;
            bottom: @line-height;
            left: 0;
        }
    }

    // this matches the next sibling after an h1 (apart from a pure text node)
    // since h1s use padding instead of margin, I did not want to double pad
    h1 + * {
        margin-top: 0;
    }

	blockquote {
        position: relative;
        padding-left: @four-space/2;
        padding-left: @two-space-css3;
        overflow: hidden;

        &:after {
            // 100 lines max
            // the \A becomes a newline character and `white-space: pre`
            // makes it act like a <br>
            content: ">\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>\A>";
            white-space: pre;
            position: absolute;
            top: 0;
            left: 0;
            font-size: @font-size;
            line-height: @line-height;
        }
    }

</style>
